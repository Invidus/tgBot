# Code Review Report

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –¢–æ–∫–µ–Ω Telegram –≤ –∫–æ–¥–µ** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `config.js:2`
```javascript
"telegramToken" : '7318525751:AAHndvtmMX3yNXHjCscDu8uuPiRyokaUMCA'
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`process.env.TELEGRAM_TOKEN`)
- –î–æ–±–∞–≤–∏—Ç—å `config.js` –≤ `.gitignore`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.env` —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é `dotenv`

### 2. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `index.js:14-15`
```javascript
var chatId;
var state = 0;
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `state` –∏ `chatId` —Å–æ–∑–¥–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Map –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ chatId:
```javascript
const userStates = new Map(); // chatId -> state
```
**–°—Ç–∞—Ç—É—Å:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `userStates` Map –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ.

### 3. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ hrefOnProduct** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª—ã:** `breakfast.js:8`, `lunch.js:8`, `dinner.js:8`

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```javascript
// breakfast.js:8
var hrefOnProduct;  // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è

// breakfast.js:46 - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –±–ª—é–¥–∞
hrefOnProduct = dataObj.hrefOnProduct;

// breakfast.js:72 - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ—Ü–µ–ø—Ç–∞
url: hrefOnProduct,
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å (`breakfast.js`, `lunch.js`, `dinner.js`) –∏–º–µ–µ—Ç —Å–≤–æ—é –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `hrefOnProduct` –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è. –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç **–∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–±–ª–µ–º—É race condition** –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–°—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A** –≤—ã–±–∏—Ä–∞–µ—Ç "–ó–∞–≤—Ç—Ä–∞–∫üçè":
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `getBreakFast(ctx)` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è A
   - `hrefOnProduct` –≤ `breakfast.js` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `"https://1000.menu/recipe/123"` (–±–ª—é–¥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è A)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é A –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–ª—é–¥–µ

2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B** (–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ) –≤—ã–±–∏—Ä–∞–µ—Ç "–ó–∞–≤—Ç—Ä–∞–∫üçè":
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `getBreakFast(ctx)` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B
   - `hrefOnProduct` –≤ `breakfast.js` **–ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–¢–°–Ø** –Ω–∞ `"https://1000.menu/recipe/456"` (–±–ª—é–¥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é B –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –µ–≥–æ –±–ª—é–¥–µ

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A** –Ω–∞–∂–∏–º–∞–µ—Ç "–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—èüîé":
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `getFullRecepie(ctx)` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è A
   - –ù–æ `hrefOnProduct` —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç URL –±–ª—é–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B (`"https://1000.menu/recipe/456"`)
   - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ—Ü–µ–ø—Ç –±–ª—é–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B –≤–º–µ—Å—Ç–æ —Å–≤–æ–µ–≥–æ!

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
- ‚ùå –ü—É—Ç–∞–Ω–∏—Ü–∞ –∏ –ø–ª–æ—Ö–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚ùå Race condition –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–í Node.js –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è —è–≤–ª—è—é—Ç—Å—è **–æ–±—â–∏–º–∏ –¥–ª—è –≤—Å–µ—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª—è. –ö–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–æ—Ç–∞, –æ–Ω–∏ **–¥–µ–ª—è—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é** `hrefOnProduct`.

**–†–µ—à–µ–Ω–∏–µ 1: –•—Ä–∞–Ω–∏—Ç—å hrefOnProduct –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```javascript
// –í index.js —Å–æ–∑–¥–∞—Ç—å Map –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è hrefOnProduct –ø–æ chatId
const userHrefs = new Map(); // chatId -> { breakfast: url, lunch: url, dinner: url }

// –í breakfast.js
export const getBreakFast = async (ctx, userHrefs) => {
  // ... –∫–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –±–ª—é–¥–∞ ...
  const chatId = ctx.chat.id;
  if (!userHrefs.has(chatId)) {
    userHrefs.set(chatId, {});
  }
  userHrefs.get(chatId).breakfast = dataObj.hrefOnProduct;
  // ...
}

export const getFullRecepie = async (ctx, userHrefs) => {
  const chatId = ctx.chat.id;
  const hrefOnProduct = userHrefs.get(chatId)?.breakfast;
  if (!hrefOnProduct) {
    ctx.reply("–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª—é–¥–æ –∏–∑ –º–µ–Ω—é.");
    return;
  }
  // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å hrefOnProduct ...
}
```

**–†–µ—à–µ–Ω–∏–µ 2: –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å hrefOnProduct –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä**
```javascript
// –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π
export const getBreakFast = async (ctx) => {
  // ... –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å hrefOnProduct –≤–º–µ—Å—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏
  return { row, hrefOnProduct };
}

export const getFullRecepie = async (ctx, hrefOnProduct) => {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π hrefOnProduct
  // ...
}

// –í index.js —Ö—Ä–∞–Ω–∏—Ç—å hrefOnProduct –≤ userStates Map
const userStates = new Map(); // chatId -> { state: number, hrefOnProduct: string }
```

**–†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç Telegraf (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)**
```javascript
// –°–æ—Ö—Ä–∞–Ω—è—Ç—å hrefOnProduct –≤ session
ctx.session.hrefOnProduct = dataObj.hrefOnProduct;
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–†–µ—à–µ–Ω–∏–µ 1** - —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π Map –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è `hrefOnProduct` –ø–æ —Ç–∏–ø–∞–º –±–ª—é–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –ø–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ç–∏–ø–∞–º–∏ –±–ª—é–¥.

## üü† –°–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**
**–§–∞–π–ª—ã:** `breakfast.js`, `lunch.js`, `dinner.js`
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢—Ä–∏ —Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –∫–æ–¥ (95% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π).
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π –º–æ–¥—É–ª—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
```javascript
// common.js
export const getMeal = async (ctx, mealType, url) => { ... }
```

### 5. **–†–µ–∫—É—Ä—Å–∏—è –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**
**–§–∞–π–ª—ã:** `breakfast.js:42`, `lunch.js:42`, `dinner.js:42`
```javascript
if (dataObj.productHeader == "") {getBreakFast(ctx); return;}
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥–ª—É–±–∏–Ω—ã –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é —Å—Ç–µ–∫–∞.
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ–ø—ã—Ç–æ–∫ –∏–ª–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É.

### 6. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
**–§–∞–π–ª—ã:** `breakfast.js:60`, `lunch.js:60`, `dinner.js:60`
```javascript
return error; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º –∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä—É–µ—Ç—Å—è —Å–æ —Å—Ç—Ä–æ–∫–æ–π.
**–†–µ—à–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏–ª–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É.

### 7. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã**
**–§–∞–π–ª:** `index.js:3-4`
```javascript
import { getCat } from "./cat.js";
import { getWeather } from "./weather.js";
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã.

### 8. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã playlist**
**–§–∞–π–ª:** `index.js:23-41`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getFullRecepie(ctx)`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, –∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é.
**–†–µ—à–µ–Ω–∏–µ:** –õ–∏–±–æ —É–¥–∞–ª–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, –ª–∏–±–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –ª–æ–≥–∏–∫—É.

## üü° –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 9. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ == –≤–º–µ—Å—Ç–æ ===**
**–§–∞–π–ª—ã:** `breakfast.js:42`, `lunch.js:42`, `dinner.js:42`, `index.js:44,49,54,59,76,78,97,100`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é.
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ `===`.

### 10. **–°–º–µ—à–∏–≤–∞–Ω–∏–µ var, let, const**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–π `var` –≤–º–µ—Å—Ç–æ `const`/`let`.
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `var` –Ω–∞ `const` –∏–ª–∏ `let` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è.

### 11. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**
**–§–∞–π–ª—ã:**
- `breakfast.js:49-51` - `scrapedData` —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `lunch.js:118` - `return 1;` –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞
- `dinner.js:118` - `return 1;` –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞
- `dinner.js:124` - `stepCounter` –æ–±—ä—è–≤–ª–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### 12. **–ü—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏–∫–æ–π –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞**
**–§–∞–π–ª—ã:** `breakfast.js:28-29`, `lunch.js:28-29`, `dinner.js:28-29`
```javascript
const randomCard = getRandomInt(1, countCard);
if (index === randomCard) { ... }
```
**–ü—Ä–æ–±–ª–µ–º–∞:** `getRandomInt(1, countCard)` –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–µ—Ç —Å `index` (–∫–æ—Ç–æ—Ä—ã–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0).
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getRandomInt(0, countCard)` –∏–ª–∏ `Math.floor(Math.random() * countCard)`.

### 13. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã, null –∑–Ω–∞—á–µ–Ω–∏—è, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.

### 14. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç**
**–§–∞–π–ª—ã:** `menu.js:1`, `innerButtons.js:1`
```javascript
import { keyboard } from "telegraf/markup"
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

### 15. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞:
- `countCard === 0`
- `recepieList` –ø—É—Å—Ç–æ–π
- `hrefOnProduct` –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π URL

## üü¢ –ú–µ–ª–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 16. **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º**
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–º–µ—à–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö.
**–†–µ—à–µ–Ω–∏–µ:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —è–∑—ã–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π).

### 17. **–ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞**
**–§–∞–π–ª—ã:** `breakfast.js:19`, `lunch.js:19`, `dinner.js:19`
```javascript
getRandomInt(1, 23)
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –æ—Ç–∫—É–¥–∞ –≤–∑—è–ª–æ—Å—å —á–∏—Å–ª–æ 23.
**–†–µ—à–µ–Ω–∏–µ:** –í—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É —Å –ø–æ–Ω—è—Ç–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º.

### 18. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.

### 19. **–ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞**
**–§–∞–π–ª—ã:** `breakfast.js:54-55`, `lunch.js:54-55`, `dinner.js:54-55`
```javascript
if (dataArr.length > 0) {
  dataArr.splice(0, dataArr.length)
}
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `dataArr.length = 0` –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤.
**–†–µ—à–µ–Ω–∏–µ:** –£–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ `dataArr.length = 0`.

### 20. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ graceful shutdown**
**–§–∞–π–ª:** `index.js:104`
```javascript
bot.launch()
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞.
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É SIGINT/SIGTERM.

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Map –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–º–µ—Å—Ç–æ `console.log`
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
7. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ES6 –º–æ–¥—É–ª–µ–π
2. ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å async/await
3. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ try-catch –±–ª–æ–∫–∞—Ö
4. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ –º–æ–¥—É–ª–∏
5. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (Telegraf, Axios, Cheerio)

